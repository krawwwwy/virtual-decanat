# Сервис аутентификации

Сервис аутентификации предоставляет API для регистрации, аутентификации и управления пользователями в системе "Виртуальный деканат".

## Функциональность

- Регистрация новых пользователей
- Аутентификация пользователей с использованием JWT-токенов
- Управление профилями пользователей
- Изменение пароля

## API Endpoints

### Публичные эндпоинты

- `POST /register` - регистрация нового пользователя
- `POST /login` - аутентификация пользователя и получение JWT-токена

### Защищенные эндпоинты (требуют JWT-токен)

- `GET /profile` - получение профиля текущего пользователя
- `PUT /profile` - обновление профиля пользователя
- `POST /change-password` - изменение пароля пользователя

## Модель данных

### User

```
{
  "id": 1,
  "username": "user123",
  "email": "user@example.com",
  "first_name": "Иван",
  "last_name": "Иванов",
  "middle_name": "Иванович",
  "role": "student",
  "group": "ИС-31",
  "faculty": "Информационные технологии",
  "department": null,
  "created_at": "2023-05-15T12:00:00Z"
}
```

## Роли пользователей

- `student` - студент
- `teacher` - преподаватель
- `decanat` - сотрудник деканата
- `applicant` - абитуриент
- `admin` - администратор

## Запуск сервиса

### Локальный запуск

```bash
cd backend
go run cmd/main.go
```

### Запуск в Docker

```bash
docker build -t auth-service .
docker run -p 8081:8080 auth-service
```

### Переменные окружения

- `DB_USER` - имя пользователя базы данных
- `DB_PASSWORD` - пароль пользователя базы данных
- `DB_NAME` - имя базы данных
- `DB_HOST` - хост базы данных
- `DB_PORT` - порт базы данных
- `JWT_SECRET` - секретный ключ для подписи JWT-токенов
- `JWT_EXPIRATION` - время жизни JWT-токенов (например, "24h")